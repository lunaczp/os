Ѓ
_w_need_reset:
…_winchester_task
Є
Ж
_winchester_task:
Г
В
„т,#6
Ѓ
_2:
¬I001C
¬3
¬1
¬I001B
¬I001B
Ж
”_init_param
Х
јб_w_mess
А
П16
А
”_receive
К
К
Ќ_w_messц
jge I0016
Ѕ_w_mess
јб_1
А
”_printk
К
К
≠
љ
је_w_mess
јѕ,м
је_w_mess+6
ј–,м
Ѕ_w_mess+2
ћI0018
I001B:
јб_w_mess
А
”_w_do_rdwt
К
Ф
ћI0019
I001C:
ј∆,#-22
ћI0019
I0018:
ји#_2
Й
ћ.csa2
I0019:
ј_w_mess+2,#68
је–
ј_w_mess+4,м
І
ј_w_mess+6,м
јб_w_mess
А
є
”_send
К
К
≠
_w_do_rdwt:
Г
В
„т,#14
јЎц
Т
јд4«
ј–,л
Ќ–ц
jl I0022
Ќ–,#10
jl I0023
I0022:
јб-5
А
ћI0021
I0023:
Т
Ќ8«,#1024
je I0027
јб-22
А
ћI0021
I0027:
јб30
mul –
ї
ƒв_wini
ј∆,м
јв5
јд–
cwd
iрv м
І
ј4«,л
І
јж_nr_drives
Ќ4«,н
jl I002A
јб-5
А
ћI0021
I002A:
Т
јд2«
І
∞
Т
Ѕ12«
Ѕ10«
З
А
П024
А
”.rmi4
„з#0
sbb в0
ў1f
or ео
1: 
or ем
je I002D
јб-22
А
ћI0021
I002D:
Т
Ѕ12«
Ѕ10«
З
А
јб512
А
”.dvi4
ј-12(с),л
ј-10(с),н
јд-12(с)
је-10(с)
ƒб2
adc в0
ји∆
„д18(п)
sbb е20(п)
ў1f
÷дл
je 1f
№м
1: 
or ем
jle I00210
јб-104
А
ћI0021
I00210:
І
јд-12(с)
јж-10(с)
ƒд14«
adc ж16«
ј-12(с),л
ј-10(с),н
јг4
јв4
јд-12(с)
Ѕ-10(с)
Ц
І
А
Ѕ12«
Э
Ю
Н
Ц
Ю5
mul м
Ћем
¶
А
”.dvu4
І
ј6«,л
јг4
јв4
јд-12(с)
Ѕ-10(с)
Ц
А
З
А
і5
А
”.rmu4
І
ј8«,о
јг4
јв4
јд-12(с)
Ѕ-10(с)
Ц
І
А
Ѕ12«
Э
Ю
Н
Ц
Ю5
mul м
Ћем
¶
А
”.rmu4
¶
Ь
З
А
і5
А
”.dvu4
І
ј10«,л
Т
ји∆
јд8«
ј22(п),л
Т
ји∆
јд18«
ј24(п),л
Т
ји∆
јд6«
ј2(п),л
I00213:
ЌЎ,#4
jg I00212
№Ў
ЌЎ,#4
jl I00216
јб-5
А
ћI0021
I00216:
Ќ_w_need_resetц
je I00219
”_w_reset
I00219:
°
”_w_dma_setup
К
°
”_w_transfer
К
ђ
Ќѕц
ўI00213
I00212:
Ќѕц
ўI0021F
П024
А
ћI0021
I0021F:
јб-5
А
I0021:
Н
Е
Д
Б
_w_dma_setup:
Г
В
„т,#22
Т
Ќ«,#3
ўI0033
јб71
А
ћI0034
I0033:
јб75
А
I0034:
Э
Ю
Н
Ц
Ф
Т
јд24«
ј-1ќ,л
Ѕ22«
Э
Ю
Н
Ц
ј-1‘,л
Т
јб86
mul 2«
ƒб688
ї
Ѕ-1‘
Ѕ-1ќ
П
А
ƒв_proc
¶
”_umap
ƒт,#8
ј-22(с),л
ј-20(с),о
Э
Ю
јд-22(с)
Ц
•
Э
Ю
Ц
ђ
јг8
јд-22(с)
је-20(с)
©
2: sar в1
rcr б1
®
1:
Э
Ю
Ц
•
Э
Ю
Ц
ј–,л
јг16
јд-22(с)
је-20(с)
©
2: sar в1
rcr б1
®
1:
Э
Ю
Ц
•
Э
Ю
Ц
јЎ,л
јд-1‘
„б1
Э
Ю
Ц
Э
Ю
Ц
•
Э
Ю
”.cuu
ј-10(с),л
јд-1‘
„б1
јг8
shr дcl
Э
Ю
Ц
Э
Ю
Ц
•
Э
Ю
Ц
ј-12(с),л
јд-22(с)
је-20(с)
„б0
sbb в0
ў1f
or ел
1: 
or ем
ўI0036
Э
Ю
јд-1ќ
Ц
А
јб_3
А
”_panic
К
К
I0036:
З
А
јг4
јв4
јд-22(с)
Ѕ-1‘
Ѕ-20(с)
Ц
Й
√н
√о
ƒжл
adc зм
„г1
sbb з#0
Ь
Ѕн
П6
А
√н
Н
Й
©
2: shr в1
rcr б1
®
1:
•
÷в0
ј-1≈,л
јдЎ
Ќ-1≈,л
je I0039
ЅЎ
јб_4
А
”_panic
К
К
I0039:
”_lock
°
П2
А
”_port_out
К
К
°
П1
А
”_port_out
К
К
є
јб6
А
”_port_out
К
К
Ѕ–
јб6
А
”_port_out
К
К
ЅЎ
mov б130
А
”_port_out
К
К
Ѕ-10(с)
јб7
А
”_port_out
К
К
Ѕ-12(с)
јб7
А
”_port_out
К
К
”_unlock
Е
Д
Б
_w_transfer:
Г
В
Т
Ќ«,#3
ўI0043
јб8
А
ћI0044
I0043:
П0
А
I0044:
Э
Ю
Н
Ц
ј_command,л
Т
јг5
јд4«
sal дcl
or д10«
ј_command+2,л
Ѕ6«
Э
Ю
Н
Ц
÷б768
Э
shr дcl
Т
А
Ѕ8«
Ю
Н
Ц
Й
or дм
Э
Ю
Ц
ј_command+4,л
Т
Ѕ6«
Э
Ю
Н
Ц
•
Э
Ю
Ц
ј_command+6,л
ј_command+8,#2
ј_command+10,#5
јб3
А
”_com_out
К
Щ
je I0046
јб-1
А
ћI0041
I0046:
јб3
А
П0
А
”_port_out
К
К
јб_w_mess
А
јб-1
А
call _receive
К
К
И
”_win_results
К
Щ
ўI0049
З
А
ћI0041
I0049:
Т
 al,26«
О
Л
÷б63
Ќб24
ўI004C
”_read_ecc
ћI004D
I004C:
ј_w_need_reset,#1
I004D:
јб-1
А
I0041:
Н
Е
Д
Б
_win_results:
Г
В
А
А
џдѕ
А
јб800
А
”_port_in
К
К
З
А
јб803
А
”_port_out
К
К
test ѕ,#2
ўI0053
З
А
ћI0051
I0053:
ј_command,#3
Т
јг5
јд4«
sal дcl
ј_command+2,л
З
А
”_com_out
К
Щ
je I0056
јб-1
А
ћI0051
I0056:
Љ
I005B:
Ќ∆,#4
jge I0058
П
А
”_hd_wait
К
Щ
je I005D
јб-1
А
ћI0051
I005D:
џдѕ
А
јб800
А
”_port_in
К
К
Э
Ю
£
Ц
•
Э
Ю
Ц
mov е≈
ƒе∆
 26«,al
№∆
ћI005B
I0058:
Т
 al,26«
О
Л
testb al,#63
je I00510
јб-1
А
ћI0051
I00510:
З
А
I0051:
Н
Е
Д
Б
_win_out:
Г
В
Ќ_w_need_resetц
je I0063
Е
Д
Б
I0063:
П
А
”_hd_wait
К
Щ
ўI0066
И
јб800
А
”_port_out
К
К
I0066:
Е
Д
Б
_w_reset:
Г
В
А
А
ј∆,#1
°
јб801
А
”_port_out
К
К
јѕц
I0075:
Ќѕ,#10000
jge I0072
џд∆
А
јб801
А
”_port_in
К
К
Э
Ю
Ч
Ц
testb al,#1
ўI0073
ћI0072
I0073:
№ѕ
ћI0075
I0072:
test ∆,#2
je I007A
јб_5
А
”_printk
К
јб-1
А
ћI0071
I007A:
ј_w_need_resetц
”_win_init
А
I0071:
Н
Е
Д
Б
_win_init:
Г
В
push л
ј_command,#12
ј_command+2ц
З
А
”_com_out
К
Щ
je I0083
јб-1
А
ћI0081
I0083:
”_lock
јг8
је_param0
sar еcl
¶
”_win_out
К
Э
Ю
јд_param0
Ц
•
А
”_win_out
К
Ѕ_param0+2
”_win_out
К
јг8
је_param0+4
sar еcl
¶
”_win_out
К
Э
Ю
јд_param0+4
Ц
•
А
”_win_out
К
јг8
је_param0+6
sar еcl
¶
”_win_out
К
Э
Ю
јд_param0+6
Ц
•
А
”_win_out
К
Ѕ_param0+8
”_win_out
К
”_unlock
”_check_init
Щ
je I0086
ј_w_need_reset,#1
јб-1
А
ћI0081
I0086:
Ќ_nr_drives,#1
jle I0089
ј_command+2,#32
З
А
”_com_out
К
Щ
je I008C
јб-1
А
ћI0081
I008C:
”_lock
јг8
је_param1
sar еcl
¶
”_win_out
К
Э
Ю
јд_param1
Ц
•
А
”_win_out
К
Ѕ_param1+2
”_win_out
К
јг8
је_param1+4
sar еcl
¶
”_win_out
К
Э
Ю
јд_param1+4
Ц
•
А
”_win_out
К
јг8
је_param1+6
sar еcl
¶
”_win_out
К
Э
Ю
јд_param1+6
Ц
•
А
”_win_out
К
Ѕ_param1+8
”_win_out
К
”_unlock
”_check_init
Щ
je I0089
ј_w_need_reset,#1
јб-1
А
ћI0081
I0089:
Љ
I00814:
је_nr_drives
Ќ∆,м
jge I00811
ј_command,#1
јг5
Ч
sal дcl
ј_command+2,л
ј_command+10,#5
і
А
”_com_out
К
Щ
je I00816
јб-1
А
ћI0081
I00816:
јб_w_mess
А
јб-1
А
”_receive
К
К
”_win_results
Щ
je I00812
ј_w_need_reset,#1
јб-1
А
ћI0081
I00812:
№∆
ћI00814
I00811:
З
А
I0081:
Н
Е
Д
Б
_check_init:
Г
В
А
і
А
”_hd_wait
К
Щ
ўI0093
џд∆
А
јб800
А
”_port_in
К
К
test ∆,#2
je I0096
јб-1
А
ћI0091
I0096:
З
А
ћI0091
I0093:
Е
Д
Б
I0091:
Н
Е
Д
Б
_read_ecc:
Г
В
А
ј_command,#13
З
А
”_com_out
К
Щ
ўI00A3
П
А
”_hd_wait
К
Щ
ўI00A3
џд∆
А
јб800
А
”_port_in
К
К
П
А
”_hd_wait
К
Щ
ўI00A3
џд∆
А
јб800
А
”_port_in
К
К
test ∆,#1
je I00A3
ј_w_need_reset,#1
I00A3:
јб-1
Е
Д
Б
_hd_wait:
Г
В
„т,#6
Љ
I00B4:
џдѕ
А
јб801
А
”_port_in
К
К
Ґ
÷ѕ,л
°
№∆
Н
Ќб10000
jge I00B2
Ќѕц
je I00B4
I00B2:
Ќ∆,#10000
jl I00B7
ј_w_need_reset,#1
јб-1
А
ћI00B1
I00B7:
З
А
I00B1:
Н
Е
Д
Б
_com_out:
Г
В
А
А
Љ
И
јб803
А
”_port_out
К
К
И
јб802
А
”_port_out
К
К
Љ
I00C5:
Ќ∆,#300
jge I00C2
џдѕ
А
јб801
А
”_port_in
К
К
test ѕ,#8
je I00C3
ћI00C2
I00C3:
№∆
ћI00C5
I00C2:
Ќ∆,#300
ўI00CA
ј_w_need_reset,#1
јб-1
А
ћI00C1
I00CA:
”_lock
Љ
I00CF:
Ќ∆,#6
jge I00CC
I00C13:
џдѕ
А
јб801
А
”_port_in
К
К
test ѕ,#1
je I00C15
ћI00C10
I00C15:
test ѕ,#8
ўI00C13
ј_w_need_reset,#1
”_unlock
јб-1
А
ћI00C1
I00C10:
Э
Ю
£
Ц
÷б14
Ќб12
je I00C1B
ј_w_need_reset,#1
”_unlock
јб-1
А
ћI00C1
I00C1B:
јд∆
sal б1
ї
Ѕ_command«
јб800
А
”_port_out
К
К
№∆
ћI00CF
I00CC:
”_unlock
З
А
I00C1:
Н
Е
Д
Б
_init_params:
Г
В
„т,#14
џд∆
А
јб802
А
”_port_in
К
К
Э
Ч
shr дcl
÷б3
Ю
Ц
јЎ,л
Ч
÷б3
Э
Ю
Ц
ј-10(с),л
Э
Ю
јд_vec_table+260
Ц
ј–,л
Э
Ю
јд_vec_table+262
Ц
ђ
З
јг4
јеѕ
©
2: sal в1
rcl б1
®
1:
А
¶
јг4
јв4
Н
Ц
Ћем
√н
ƒд–
adc жм
Ѕн
јг4
јв4
Ц
ј-1≈,л
√-12(с)
З
А
јб64
А
А
јб_buf
А
П
А
јб_proc+172
А
”_umap
ƒт,#8
Ь
А
Ѕ-12(с)
Ѕ-1≈
”_phys_copy
ƒт,#12
јн,#4
јдЎ
sal дcl
ї
јб_param0
А
ƒв_buf
¶
”_copy_param
К
К
јг4
јд-10(с)
sal дcl
ї
јб_param1
А
ƒв_buf
¶
”_copy_param
К
К
З
А
П
А
А
јб_buf
А
П
А
јб_proc+172
А
”_umap
ƒт,#8
Ь
А
З
А
П141
А
”_phys_copy
ƒт,#12
Э
Ю
 al,_buf
О
Ц
ј_nr_drives,л
Љ
I00D5:
Ќ∆,#5
jae I00D2
јб30
mul ∆
ї
јж_param0+2
ј_wini+12«,н
Ч
ƒб1
Ф
ћI00D5
I00D2:
ј_wini+164ц
ј_wini+164+2ц
је_wini+164
Ѕ_wini+164+2
ј_wini+14,м
√_wini+14+2
јд_param0+2
cwd
Ь
А
јд_param0
cwd
јил
јйо
Й
Н
”.mli4
ји#25
Ћйр
ї
јдо
”.mli4
ј_wini+18,л
ј_wini+18+2,о
ј∆,#5
I00D9:
Ќ∆,#10
jae I00D6
mov б30
mul ∆
ї
јж_param1+2
ј_wini+12«,н
Ч
ƒб1
Ф
ћI00D9
I00D6:
јд_param1+2
cwd
Ь
А
јд_param1
cwd
јил
јйо
Й
Н
”.mli4
ји#25
Ћйр
ї
јдо
”.mli4
ј_wini+168,л
ј_wini+168+2,о
Ќ_nr_drivesц
jle I00DB
”_win_init
Щ
je I00DB
ј_nr_drivesц
I00DB:
Љ
I00D11:
Э
Ю
јд_nr_drives
°
Ц
Й
Ќел
jae I00DE
јб5
mul ∆
Э
Ю
Ц
ј_w_mess+4,л
ј_w_mess+10ц
ј_w_mess+10+2ц
ј_w_mess+8,#1024
ј_w_mess+18,#_buf
ј_w_mess+6,#-6
ј_w_mess+2,#3
јб_w_mess
А
”_w_do_rdwt
К
Ќб1024
je I00D13
°
јб_6
А
”_panic
К
К
I00D13:
јб5
mul ∆
А
”_copy_prt
К
Ч
ƒб1
Ф
ћI00D11
I00DE:
Е
Д
Б
_copy_params:
Г
В
Т
Ђ
ѓ
mov «,л
Т
З
 al,2«
А
Э
Ю
Н
Ц
ѓ
ј2«,л
Т
јиќ
јд3«
ј4(п),л
Т
јиќ
јд5«
ј6(п),л
Т
З
 al,7«
А
Э
Ю
Н
Ц
ѓ
ј8«,л
Е
Д
Б
_copy_prt:
Г
В
„т,#10
Љ
I00F5:
Ќ∆,#4
jge I00F2
ј-10(с)ц
јЎц
Ґ
ƒд∆
јв30
mul м
ƒб30
ї
ƒв_wini
ј–,м
Э
Ю
Ч
Ц
јг4
sal дcl
ƒб454
Э
Ю
Ц
ђ
јеѕ
ји–
јд_buf«
је_buf+2«
ј14(п),л
ј16(п),м
је–
Ѕ16«
Ѕ14«
З
А
і
А
”.rmi4
„з#0
sbb в0
ў1f
or ео
1: 
or ем
je I00F7
је–
јд14«
Ѕ16«
ј-10(с),л
√Ў
Ѕ16«
Ѕ14«
З
А
і
А
”.dvi4
ƒб1
adc г0
ји#2
Ћйр
ї
јдн
”.mli4
је–
ј14«,л
ј16«,о
је–
јд14«
јж16«
„д-10(с)
sbb жЎ
ј-10(с),л
јЎ,н
I00F7:
£
ƒб4
ї
јд_buf«
јж_buf+2«
„д-10(с)
sbb жЎ
је–
ј18«,л
ј20«,н
№∆
ћI00F5
I00F2:
Ґ
№л
јв30
mul м
ї
ƒв_wini
¶
”_sort
К
Е
Д
Б
…_sort
_sort:
Г
В
А
А
Љ
I0105:
Ќ∆,#4
jge I0102
јѕц
I0109:
Ќѕ,#3
jge I0103
јб30
mul ѕ
ї
ƒе≈
јд14«
јж16«
„б0
sbb г0
ў1f
or жл
1: 
or жн
ўI010B
£
№л
јв30
mul м
ї
ƒе≈
јд14«
јж16«
„б0
sbb г0
ў1f
or жл
1: 
or жн
je I010B
£
№л
јв30
mul м
ї
ƒе≈
јб30
mul ѕ
јил
ƒи≈
¶
Ѕп
”_swap
К
К
ћI0107
I010B:
јб30
mul ѕ
ї
ƒе≈
£
№л
јг30
mul н
јил
ƒи≈
јд14«
јж16«
„д14(п)
sbb ж16(п)
ў1f
÷дл
je 1f
№н
1: 
or жн
jle I0107
£
№л
јв30
mul м
ї
ƒе≈
јд14«
јж16«
„б0
sbb г0
ў1f
or жл
1: 
or жн
je I0107
£
№л
јв30
mul м
ї
ƒе≈
јб30
mul ѕ
јил
ƒи≈
¶
Ѕп
”_swap
К
К
I0107:
№ѕ
ћI0109
I0103:
№∆
ћI0105
I0102:
Е
Д
Б
…_swap
_swap:
Г
В
„т,#30
ји≈
јг30
”.loi
џй-30(с)
јг15
јит
rep
mov
јт,п
јиќ
јг30
”.loi
јй≈
јг15
јит
rep
mov
јт,п
џи-30(с)
јг30
”.loi
јйќ
јг15
јит
rep
mov
јт,п
Е
Д
Б
≥
_param1: .zerow 10/2
_param0: .zerow 10/2
_buf: .zerow 1024/2
_command: .zerow 12/2
_w_mess: .zerow 24/2
_nr_drives: .zerow 2/2
_wini: .zerow 300/2
Ѓ
_1:
¬26999
¬25454
¬25960
¬29811
¬29285
¬29728
¬29537
¬8299
¬28519
¬8308
¬25965
¬29555
¬26465
¬8293
¬29286
¬28015
¬9504
¬8292
Є
_3:
¬21318
¬26400
¬30305
¬8293
¬26999
¬25454
¬25960
¬29811
¬29285
¬25632
¬29545
¬8299
¬29284
¬30313
¬29285
¬25120
¬25697
¬24864
њ00
¬114
_4:
¬29268
¬27001
¬26478
¬29728
¬8303
¬19780
¬8257
¬25441
¬28530
¬29555
¬13856
¬19252
¬25120
¬30063
њ10
¬29281
¬121
_5:
¬24904
њ14
¬25632
¬29545
¬8299
¬28535
¬10094
¬8308
¬25970
¬25971
¬2676
Є
_6:
¬24899
¬10094
¬8308
¬25970
.word 25697
¬28704
¬29281
¬26996
¬26996
¬28271
¬29728
¬25185
¬25964
¬28448
¬8294
¬26999
¬25454
¬25960
¬29811
¬29285
¬32
Ж
